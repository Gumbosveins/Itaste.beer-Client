<div class="indexPage join">
  <md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>

  <md-toolbar class="md-toolbar-modern">
    <div class="md-toolbar-tools">
      <a href="/" aria-label="Home"><img class="home" src="/Images/icons/home-2-24.png" alt="Home" /></a>
      <span flex></span>
      <strong>Create Room</strong>
      <span flex></span>
    </div>
  </md-toolbar>

  <div class="hero-inner">
    <div class="form-wrap">
      <div class="hero-logo"><img src="/Images/logo.png" alt="Logo" /></div>
      <h2 class="section-title">Create a room</h2>
      <p class="section-sub">Pick a name, a 4‑digit PIN and optionally enable blind tasting with a reveal code.</p>

      <form class="form" name="createForm" ng-submit="CreateRoom()" novalidate>
        <div class="row">
          <md-input-container class="md-block" md-no-float>
            <label>Room Name</label>
            <input ng-model="room.roomName" type="text" placeholder="e.g. Friday Tasting" required autocomplete="off" />
            <div class="md-caption" ng-if="createForm.$submitted && !room.roomName">Please enter a room name.</div>
          </md-input-container>

          <md-input-container class="md-block" md-no-float>
            <label>Room PIN (4 digits)</label>
            <input ng-model="room.pin" type="text" inputmode="numeric" pattern="\d{4}" ng-pattern="/^\d{4}$/" maxlength="4" required placeholder="1234" autocomplete="one-time-code" />
            <div class="md-caption" ng-if="createForm.$submitted && (!room.pin || !/^\d{4}$/.test(room.pin))">Enter a 4‑digit PIN.</div>
          </md-input-container>
        </div>

        <div class="row">
          <div>
            <label style="display:flex; align-items:center; gap:10px; color:var(--text)">
              <input type="checkbox" ng-model="room.blind" />
              Blind tasting (requires reveal code)
            </label>
          </div>
          <md-input-container class="md-block" md-no-float ng-if="room.blind">
            <label>Blind Reveal Code</label>
            <input ng-model="room.revealCode" type="text" placeholder="Keep this safe" required autocomplete="off" />
          </md-input-container>
        </div>

        <div class="center" ng-if="!loading">
          <md-button type="submit" class="md-raised md-primary">Create Room</md-button>
        </div>
      </form>
    </div>
  </div>
</div>